// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
'use strict';
var CodeMirror = require('codemirror');
require('codemirror/mode/meta');
/**
 * Get the appropriate codemirror mimetype given language info.
 */
function mimetypeForLanguage(info) {
    // Use the codemirror mode if given since some kernels rely on it.
    var mode = info.codemirror_mode;
    var mime = 'text/plain';
    if (mode) {
        if (typeof mode === 'string') {
            mode = CodeMirror.findModeByName(mode);
        }
        else if (mode.mime) {
        }
        else if (mode.name) {
            var name_1 = mode.name;
            mode = CodeMirror.findModeByName(name_1);
        }
        if (mode) {
            mime = mode.mime;
        }
    }
    else if (info.mimetype) {
        mime = info.mimetype;
    }
    return mime;
}
exports.mimetypeForLanguage = mimetypeForLanguage;
